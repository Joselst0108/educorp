<!DOCTYPE html>
<html lang="es" data-app="eduadmin">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EduAdmin | Vacantes</title>

<link rel="stylesheet" href="/assets/css/variables.css">
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="/assets/css/components.css">

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="/assets/js/supabaseClient.js"></script>
<script src="/assets/js/context.js"></script>
<script src="/assets/js/ui.js"></script>
</head>

<body>
<div class="app-shell">

<!-- SIDEBAR -->
<aside class="sidebar">
  <div class="brand">
    <img id="uiAppLogo" src="/assets/img/educorp.jpeg">
    <div class="titles">
      <b>EduAdmin</b>
      <span>Administraci√≥n real</span>
    </div>
  </div>

  <!-- üî• MEN√ö DIN√ÅMICO -->
  <nav id="uiSidebarNav" class="nav"></nav>
</aside>

<!-- MAIN -->
<main class="main">

<div class="topbar">
  <div class="school-chip">
    <img id="uiSchoolLogo" src="/assets/img/eduadmin.jpeg" onerror="this.src='/assets/img/eduadmin.jpeg'">
    <div class="meta">
      <b id="uiSchoolName">Cargando...</b>
      <span id="uiYearName">A√±o</span>
    </div>
  </div>
</div>

<section class="page">

<div class="card">
<h1>Vacantes por secci√≥n</h1>
<p id="status">Cargando‚Ä¶</p>
</div>

<div class="grid-2">

<div class="card">
<h2>Asignar vacantes</h2>

<form id="formVacante">

<label>Nivel</label>
<select id="nivel_id">
  <option value="">Nivel</option>
</select>

<label>Grado</label>
<select id="grado_id">
  <option value="">Grado</option>
</select>

<label>Secci√≥n</label>
<select id="seccion_id">
  <option value="">Secci√≥n</option>
</select>

<label>Vacantes</label>
<input type="number" id="vacantes">

<input type="hidden" id="cupo_total">

<button class="btn btn-primary">Guardar</button>
</form>
</div>

<div class="card">
<h2>Vacantes registradas</h2>

<table class="table">
<thead>
<tr>
<th>Nivel</th>
<th>Grado</th>
<th>Secci√≥n</th>
<th>Vacantes</th>
</tr>
</thead>
<tbody id="tbodyVacantes"></tbody>
</table>

</div>
</div>
</section>
</main>
</div>

<!-- puente vacantes -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const a = document.getElementById("vacantes");
  const b = document.getElementById("cupo_total");
  if (a && b) {
    b.value = a.value || "";
    a.addEventListener("input", () => (b.value = a.value || ""));
  }
});
</script>

<!-- üî• ACTIVAR MEN√ö -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  if (window.renderEduAdminSidebar) {
    window.renderEduAdminSidebar();
  }
});
</script>

<script src="/eduadmin/pages/js/vacantes.js"></script>

</body>
</html>